<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="https://upload.wikimedia.org/wikipedia/commons/thumb/9/99/Unofficial_JavaScript_logo_2.svg/1024px-Unofficial_JavaScript_logo_2.svg.png" type="image/x-icon">
    <title>JS Features | Image Slider</title>

    <!-- bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">

    <!-- icons -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
</head>
<body class="container-fluid" style="height: 100vh;">
    <main class="container h-100">
        <div class="d-flex h-100 align-items-center">
            <input type="button" value="◂" onclick="previous()" class="btn btn-light border rounded-circle" style="height: 3rem; aspect-ratio: 1/1;">
            <div class="mx-auto px-2" style="width: min-content;">
                <img id="img" class="rounded-lg shadow" style="height: 400px; aspect-ratio: 1/1; object-fit: cover;">

                <div class="d-flex bg-light border rounded p-2 mt-3 w-100 align-items-center">
                    <p class="m-0 w-100">
                        Photo by <a id="author" href="#"></a> on <a id="source" href="#"></a>
                    </p>

                    <button id="copy" class="btn btn-light" style="display: contents;">
                        <span class="material-symbols-outlined" style="font-size: 18px;">content_copy</span>
                    </button>
                </div>
            </div>
            <input type="button" value="▸" onclick="next()" class="btn btn-light border rounded-circle" style="height: 3rem; aspect-ratio: 1/1;">
        </div>
    </main>

    <script>
        let image = document.querySelector('#img')
        let author = document.querySelector('#author')
        let source = document.querySelector('#source')
        const gallery = 
        [
            {
                    id: 1,
                    name: "Slide 1",
                    authorName: "Author",
                    authorUrl: "#",
                    sourceName: "Krita",
                    sourceUrl: "#",
                    postUrl: "#",
                    src: "https://krita-artists.org/uploads/default/original/2X/0/04c5088f1823dda35b2cc6784b7407fa62147bc6.jpeg"
                },
            {
                    id: 2,
                    name: "Slide 2",
                    authorName: "Author",
                    authorUrl: "#",
                    sourceName: "Source",
                    sourceUrl: "#",
                    postUrl: "#",
                    src: "https://krita-artists.org/uploads/default/optimized/3X/2/0/200e4ae74b62354feed5dee93371306deb2fa4c2_2_360x400.jpeg"
                },
            {
                    id: 3,
                    name: "Slide 3",
                    authorName: "Author",
                    authorUrl: "#",
                    sourceName: "Source",
                    sourceUrl: "#",
                    postUrl: "#",
                    src: "https://krita-artists.org/uploads/default/optimized/2X/7/7e252ff7840bdaae6e3838474ed9294b1942e4f1_2_269x400.jpeg"
                },
            {
                    id: 4,
                    name: "Slide 4",
                    authorName: "Author",
                    authorUrl: "#",
                    sourceName: "Source",
                    sourceUrl: "#",
                    postUrl: "#",
                    src: "https://krita-artists.org/uploads/default/optimized/2X/9/92b52498ed406062cd10c0cb14e96eb7f216ecea_2_316x400.jpeg"
                }
        ]

        let currentSlide = gallery[0]
        setImage()

        function setImage() {
            image.src = currentSlide.src
            setAuthor()
            setSource()
        }
        function setAuthor() {
            author.setAttribute('href', currentSlide.authorUrl)
            author.innerHTML = currentSlide.authorName
        }
        function setSource() {
            source.setAttribute('href', currentSlide.sourceUrl)
            source.innerHTML = currentSlide.sourceName
        }

        function previous() {
            let currentIndex = currentSlide.id - 1
            currentIndex = currentIndex == 0 ? gallery.length : currentIndex
            currentSlide = gallery[currentIndex - 1]
            setImage()
        }
        function next() {
            let currentIndex = currentSlide.id - 1;
            currentIndex = currentIndex == gallery.length - 1 ? 0 : currentIndex + 1
            currentSlide = gallery[currentIndex]
            setImage()
        }
        
        const copy = document.querySelector('#copy')
        copy.addEventListener('click', () => {
            console.log(currentSlide)
            copyText(currentSlide.postUrl)
        })
        function copyText(text) {
            navigator.clipboard.writeText(text); 
            alert("Copied: " + text);
        }
    </script>
</body>
</html>